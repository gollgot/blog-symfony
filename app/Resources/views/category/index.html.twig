{% extends 'base.html.twig' %}

{% block title %}Catégories{% endblock %}

{% block body %}

    {% include 'flashMessage/success.html.twig' %}

    <h1>Toutes les catégories</h1>

    <table id="table-category-index" class="table table-bordered table-hover table-responsive">
        <thead>
        <tr>
            <th>Nom</th>
            <th>Article(s)</th>
            <th>Actions</th>
        </tr>
        </thead>
        <tbody>
        {% for category in categories %}
            <tr>
                <td>{{ category.name}}</td>
                <td>{{ category.posts|length}}</td>
                <td>
                    <a title="Voir la catégorie : {{ category.name }}" href="{{ path('categories_show', { 'id' : category.id}) }}"><button class="btn btn-primary">Voir</button></a>
                    <a title="Éditer la catégorie : {{ category.name }}" href="{{ path('categories_edit', { 'id' : category.id}) }}"><button class="btn btn-success">Éditer</button></a>
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

    <a href="{{ path("categories_new") }}">
        <button class="btn btn-primary">Créer une catégorie</button>
    </a>
{% endblock %}
